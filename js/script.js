var dados={
	"paises": [
	    { "classe": "a", "nome": "África do Sul", "classeimg": 'africa', "url": "africa.jpg", "capital": "Pretória", "idioma": "Africaner e Inglês", "localização": "África Meridional", "bandeira": "bandeira-africa.gif"},
	    { "classe": "a", "nome": "Alemanha", "classeimg": 'alemanha', "url": "alemanha.jpg", "capital": "Berlim", "idioma": "Alemão", "localização": "Oeste da Europa", "bandeira": "bandeira-alemanha.gif"},
	    { "classe": "a", "nome": "Argentina", "classeimg": 'argentina', "url": "argentina.jpg", "capital": "", "idioma": "", "localização": "", "bandeira": ""},
	    { "classe": "a", "nome": 'Austrália', "classeimg": 'australia', "url": "australia.jpg", "capital": "", "idioma": "", "localização": "", "bandeira": ""},
	    { "classe": "b", "nome": 'Barbados', "classeimg": 'barbados', "url": "barbados.jpg", "capital": "", "idioma": "", "localização": "", "bandeira": ""},
	    { "classe": "b", "nome": 'Bélgica', "classeimg": 'belgica', "url": "belgica.jpg", "capital": "", "idioma": "", "localização": "", "bandeira": ""},
	    { "classe": "b", "nome": 'Bermudas', "classeimg": 'bermudas', "url": "bermudas.jpg", "capital": "", "idioma": "", "localização": "", "bandeira": ""},
	    { "classe": "b", "nome": 'Bielorrússia', "classeimg": 'bielorrussia', "url": "bielorrussia.jpg", "capital": "", "idioma": "", "localização": "", "bandeira": ""},
	    { "classe": "b", "nome": 'Bolívia', "classeimg": 'bolivia', "url": "bolivia.jpg", "capital": "", "idioma": "", "localização": "", "bandeira": ""},
	    { "classe": "b", "nome": 'Bósnia e Hezergovina', "classeimg": 'bosnia', "url": "bosnia.jpg", "capital": "", "idioma": "", "localização": "", "bandeira": ""},
	    { "classe": "b", "nome": 'Brasil', "classeimg": 'brasil', "url": "brasil.jpg", "capital": "", "idioma": "", "localização": "", "bandeira": ""}, 
	    { "classe": "b", "nome": 'Bulgária', "classeimg": 'bulgaria', "url": "bulgaria.jpg", "capital": "", "idioma": "", "localização": "", "bandeira": ""},
	    { "classe": "c", "nome": 'Cabo Verde', "classeimg": 'caboverde', "url": "caboverde.jpg", "capital": "", "idioma": "", "localização": "", "bandeira": ""}, 
	    { "classe": "c", "nome": 'Canadá', "classeimg": 'canada', "url": "canada.jpg", "capital": "", "idioma": "", "localização": "", "bandeira": ""},
	    { "classe": "c", "nome": 'Chile', "classeimg": 'chile', "url": "chile.jpg", "capital": "", "idioma": "", "localização": "", "bandeira": ""},
	    { "classe": "c", "nome": 'China', "classeimg": 'china', "url": "china.jpg", "capital": "", "idioma": "", "localização": "", "bandeira": ""},    
	    { "classe": "d", "nome": 'Dinamarca', "classeimg": 'dinamarca', "url": "dinamarca.jpg", "capital": "", "idioma": "", "localização": "", "bandeira": ""},    
	    { "classe": "e", "nome": 'Egito', "classeimg": 'egito', "url": "egito.jpg", "capital": "", "idioma": "", "localização": "", "bandeira": ""},  
	    { "classe": "e", "nome": 'Espanha', "classeimg": 'espanha', "url": "espanha.jpg", "capital": "", "idioma": "", "localização": "", "bandeira": ""},  
	    { "classe": "e", "nome": 'Estados Unidos', "classeimg": 'eua', "url": "eua.jpg", "capital": "", "idioma": "", "localização": "", "bandeira": ""},   
	    { "classe": "f", "nome": 'Filipinas', "classeimg": 'filipinas', "url": "filipinas.jpg", "capital": "", "idioma": "", "localização": "", "bandeira": ""},   
	    { "classe": "f", "nome": 'França', "classeimg": 'frança', "url": "frança.jpg", "capital": "", "idioma": "", "localização": "", "bandeira": ""},   
	    { "classe": "g", "nome": 'Grécia', "classeimg": 'grecia', "url": "grecia.jpg", "capital": "", "idioma": "", "localização": "", "bandeira": ""},  
	    { "classe": "i", "nome": 'Índia', "classeimg": 'india', "url": "india.png", "capital": "", "idioma": "", "localização": "", "bandeira": ""},   
	    { "classe": "i", "nome": 'Irlanda', "classeimg": 'irlanda', "url": "irlanda.jpg", "capital": "", "idioma": "", "localização": "", "bandeira": ""},
	    { "classe": "i", "nome": 'Itália', "classeimg": 'italia', "url": "italia.jpg", "capital": "", "idioma": "", "localização": "", "bandeira": ""},
	    { "classe": "j", "nome": 'Japão', "classeimg": 'japao', "url": "japao.jpg", "capital": "", "idioma": "", "localização": "", "bandeira": ""},   
	    { "classe": "l", "nome": 'Luxemburgo', "classeimg": 'luxemburgo', "url": "luxemburgo.jpg", "capital": "", "idioma": "", "localização": "", "bandeira": ""},
	    { "classe": "m", "nome": 'Maldivas', "classeimg": 'maldivas', "url": "maldivas.jpg", "capital": "", "idioma": "", "localização": "", "bandeira": ""},
	    { "classe": "m", "nome": 'Marrocos', "classeimg": 'marrocos', "url": "marrocos.jpg", "capital": "", "idioma": "", "localização": "", "bandeira": ""},
	    { "classe": "m", "nome": 'México', "classeimg": 'mexico', "url": "mexico.jpg", "capital": "", "idioma": "", "localização": "", "bandeira": ""},
	    { "classe": "n", "nome": 'Noruega', "classeimg": 'noruega', "url": "noruega.jpg", "capital": "", "idioma": "", "localização": "", "bandeira": ""},  
	    { "classe": "p", "nome": 'Peru', "classeimg": 'peru', "url": "peru.png", "capital": "", "idioma": "", "localização": "", "bandeira": ""},  
	    { "classe": "p", "nome": 'Polônia', "classeimg": 'polonia', "url": "polonia.jpg", "capital": "", "idioma": "", "localização": "", "bandeira": ""},  
	    { "classe": "p", "nome": 'Portugal', "classeimg": 'portugal', "url": "portugal.jpg", "capital": "", "idioma": "", "localização": "", "bandeira": ""},  
	    { "classe": "r", "nome": 'Reino Unido', "classeimg": 'reinounido', "url": "reinounido.png", "capital": "", "idioma": "", "localização": "", "bandeira": ""}, 
	    { "classe": "r", "nome": 'Rússia', "classeimg": 'russia', "url": "russia.jpg", "capital": "", "idioma": "", "localização": "", "bandeira": ""},  
	    { "classe": "s", "nome": 'Sérvia', "classeimg": 'servia', "url": "servia.jpg", "capital": "", "idioma": "", "localização": "", "bandeira": ""},  
	    { "classe": "s", "nome": 'Suíça', "classeimg": 'suiça', "url": "suiça.jpg", "capital": "", "idioma": "", "localização": "", "bandeira": ""},  
	    { "classe": "t", "nome": 'Turquia', "classeimg": 'turquia', "url": "turquia.jpg", "capital": "", "idioma": "", "localização": "", "bandeira": ""} 
    ],
    "letras":
    [
    	{ "valor": "a"},{ "valor": "b"},{ "valor": "c"},{ "valor": "d"},{ "valor": "e"},{ "valor": "f"},{ "valor": "g"},{ "valor": "i"},{ "valor": "j"},{ "valor": "l"},{ "valor": "m"},{ "valor": "n"},{ "valor": "p"},{ "valor": "r"},{ "valor": "s"},{ "valor": "t"}
    ]
}

var paises = dados.paises;
var letras = dados.letras;

function criaMenuLetras(){
	for(var i=0; i<letras.length; i++){
		$(".menu-letras").append('<button class="letras" value="'+letras[i].valor+'">'+letras[i].valor.toUpperCase()+'</button>');
	}
}

function imagens(){	
	for(var i=0; i<paises.length; i++){
		$("#corpoPaises").append('<div class="box '+paises[i].classe+'"><a class="btn-modal" data-modal="modalPaises" data-pais="'+paises[i].classeimg+'"><div class="titulo-img">'+paises[i].nome+'</div><div class="fotos-paises '+paises[i].classeimg+'"></div></a></div>');
		$("."+paises[i].classeimg).css({'background-image':'url(img/'+paises[i].url+')'});
	}
}

function modal(nome){
	for(var i=0; i<paises.length; i++){
		if(paises[i].classeimg == nome){
			$("#info").html('<h3>País: '+paises[i].nome+'</h3><h3>Capital: '+paises[i].capital+'</h3><h3>Idioma: '+paises[i].idioma+'</h3><h3>Localização: '+paises[i].localização+'</h3>');
			$(".modal").css({'background-image':'url("img/'+paises[i].url+'")','background-size':'cover'})
		}	
	}
}

function onScroll(event){
	var scrollPos = $(document).scrollTop();
	$('nav a').each(function () {
		var currLink = $(this);
		var refElement = $(currLink.attr("href"));
		if (refElement.position().top-66 <= scrollPos && refElement.position().top -66+ refElement.height() >= scrollPos) {
			$('nav ul li a').removeClass("active");
			currLink.addClass("active");
		}
		else{
			currLink.removeClass("active");
		}
	});
}

function scrollTarget(){
	$(document).on("scroll", onScroll);

	$('a[href^="#"]').on('click', function (e) {
		e.preventDefault();
		$(document).off("scroll");
		$('a').each(function () {
			$(this).removeClass('active');
		});
		$(this).addClass('active');
		var target = this.hash,
		$target = $(target);
		$('html, body').stop().animate({
			'scrollTop': $target.offset().top
		}, 1000, 'swing', function () {
			window.location.hash = target;
			$(document).on("scroll", onScroll);
		});
	});
}

function corNavbar(){
	var scrollPos = $(window).scrollTop();
	navbar = $('.navbar');
	if (scrollPos > 50) {
		navbar.addClass('alt-color');
	} else {
		navbar.removeClass('alt-color');
	}
}

function icone() {
    var navClass = $("#navbar").attr('class');
    if (navClass == "navbar" || navClass == "navbar alt-color") {
        $("#navbar").addClass("responsive");
    } else {
        $("#navbar").removeClass("responsive").addClass("navbar");
    }
}

function menuLetras(elem){
	var letra = $(elem).val();
	$('.'+letra).toggle(800);
	var classe = $(elem).attr('class');
	if(classe == 'letras letras-active'){
		$(elem).removeClass('letras-active');
	}
	else{
		$(elem).addClass('letras-active');
	}	
}

function actions(){
	$(window).scroll(function() {
		corNavbar();
	});
	scrollTarget();
	$("#icon").on("click",function(){
		icone();
	})
	$(".letras").on("click", function(){
		menuLetras(this);
	});
	$('a').on('click', function(){    
		if($(this).data("modal")=="modalPaises"){
	    	$('#modal-paises').fadeIn('slow');
	    	$("body").css({'overflow-y':'hidden'});
	    	modal($(this).data("pais"));
	    }
	});
	$('#fecha-modal').click(function(){
		$('#modal-paises').fadeOut(500);
		$("body").css({'overflow-y':'auto'});
	})
}

$(document).ready(function(){
	criaMenuLetras();
	imagens();
	// window.location = "#titulo";
	corNavbar();
	actions();
	$('section').fadeIn(1500);
});